<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/panel.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet"> 
    <title>JavaScriptの練習｜表</title>
  </head>
  <body id="body">
    <header>
        <h1 class="ffDotGothic16">JavaScriptの練習</h1>
    </header>
    <div class="innerWrap">
        <main>
            <h2>九九表</h2>
            <table id="table">
                <thread>
                    <tr id="tr1">
                        <th>かけられる数</th><th>1の段</th><th>2の段</th><th>3の段</th><th>4の段</th><th>5の段</th><th>6の段</th><th>7の段</th><th>8の段</th><th>9の段</th>
                    </tr>
                </thread>
                <tbody>
                    <!-- <tr class="tr99">
                        <th class="th_left">1</th>
                        <td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">2</th>
                        <td>2</td><td>4</td><td>6</td><td>8</td><td>10</td><td>12</td><td>14</td><td>16</td><td>18</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">3</th>
                        <td>3</td><td>6</td><td>9</td><td>12</td><td>15</td><td>18</td><td>21</td><td>24</td><td>27</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">4</th>
                        <td>4</td><td>8</td><td>12</td><td>16</td><td>20</td><td>24</td><td>28</td><td>32</td><td>36</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">5</th>
                        <td>5</td><td>10</td><td>15</td><td>20</td><td>25</td><td>30</td><td>35</td><td>40</td><td>45</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">6</th>
                        <td>6</td><td>12</td><td>18</td><td>24</td><td>30</td><td>36</td><td>42</td><td>48</td><td>54</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">7</th>
                        <td>7</td><td>14</td><td>21</td><td>28</td><td>35</td><td>42</td><td>49</td><td>56</td><td>63</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">8</th>
                        <td>8</td><td>16</td><td>24</td><td>32</td><td>40</td><td>48</td><td>56</td><td>64</td><td>72</td>
                    </tr>
                    <tr class="tr99">
                        <th class="th_left">9</th>
                        <td>9</td><td>18</td><td>27</td><td>36</td><td>45</td><td>54</td><td>63</td><td>72</td><td>81</td>
                    </tr> -->
                </tbody>
            </table>
        </main>
        <aside>
            <h3>各ページへのリンク</h3>
            <ul>
                <li><a href="index.html">文章</a></li>
                <li><a href="put_cards.html">複数の画像</a></li>
                <li><a href="image.html">画像</a></li>
            </ul>
        </aside>
    </div>
    <footer>
        <p class="ffDotGothic16"><small>@jituhanekodesuyukasato</small></p>
    </footer>
    <div id="privacy-panel">
        <p>
            クッキーっていうのはね、ユーザーが次にログインするときに前のログイン情報を記憶してくれたり、とにかく便利な機能なんだ！あなたのプライバシーにかかわるから、承認しても良ければボタンを押してね～。
        </p>
        <button id="agreebtn">オッケー</button>
    </div>
    <!-- <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script> -->
    <script src="scripts/js.cookie.js"></script>
    <script>
        'use strict';
    
        const agree = Cookies.get('cookie-agree');
        const panel = document.getElementById('privacy-panel');
        const body = document.getElementById('body');
        if(agree === 'yes'){
            console.log('クッキーオッケー');
            document.body.removeChild(panel);
            body.classList.add('changeColor');
        } else {
            console.log('クッキーだめ');
            document .getElementById('agreebtn').onclick = function() {
                Cookies.set('cookie-agree', 'yes', {expires: 7});
                document.body.removeChild(panel);
                body.classList.add('changeColor');
            };
        }

        let new_tr1 = '';
        for(let i = 1; i <= 9; i ++){
            new_tr1 += `<th>${i}の段</th>`
        }
        document.getElementById('tr1').innerHTML = '<th>かけられる数</th>' + new_tr1;

        const parent = document.getElementById('table');
        let th = '';
        for(let i = 1; i <= 9; i++){
            let row = `<tr><th>${i}</th>`;
            th += `<th>${i}</th>`;
            for (let j = 1; j <= 9; j++){
                row += `<td>${i * j}</td>`;
            }
            row += '</tr>'
            parent.insertAdjacentHTML('beforeend', row);
        }

        // let th = document.getElementsByClassName('tr99');
        // let new_th_left = '';
        // for(let i = 1; i <= 9; i++) {   
        //     new_th_left += i;
        //     th.insertAdjacentHTML('afterbegin', new_th_left);
        // }

        // const trElements = document.getElementsByClassName('tr99');
        // for(let j = 0; j <= trElements.length; j++) {
        //     const tr = trElements[j];
        //     const tdElements = tr.getElementsByTagName('td');

        //     for(let k = 1; k <= 9; k++){
        //         if(tdElements[k]){
        //         tdElements.textContent = (j + 1) * k;
        //         }
        //     }
        // }
    </script>
  </body>
